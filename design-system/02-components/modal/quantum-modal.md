# ğŸŒ  QUANTUM MODAL

## Giá»›i thiá»‡u

Quantum Modal lÃ  thÃ nh pháº§n modal tiÃªn tiáº¿n cá»§a AuraGlyph, vÆ°á»£t xa khÃ¡i niá»‡m modal truyá»n thá»‘ng Ä‘á»ƒ trá»Ÿ thÃ nh má»™t khÃ´ng gian tÆ°Æ¡ng tÃ¡c Ä‘a chiá»u. Thay vÃ¬ chá»‰ lÃ  má»™t lá»›p phá»§ Ä‘Æ¡n giáº£n, Quantum Modal táº¡o ra má»™t "pocket dimension" - má»™t khÃ´ng gian thÃ´ng tin riÃªng biá»‡t cÃ³ kháº£ nÄƒng tÆ°Æ¡ng tÃ¡c vá»›i ngÆ°á»i dÃ¹ng theo cÃ¡ch cÃ³ Ã½ thá»©c, pháº£n á»©ng vÃ  thÃ­ch á»©ng.

## Triáº¿t lÃ½ thiáº¿t káº¿

Quantum Modal Ä‘Æ°á»£c xÃ¢y dá»±ng dá»±a trÃªn ba nguyÃªn táº¯c cá»‘t lÃµi:

1. **KhÃ´ng gian cÃ³ Ã½ thá»©c (Sentient Space)**: Modal khÃ´ng chá»‰ lÃ  má»™t container mÃ  lÃ  má»™t khÃ´ng gian thÃ´ng tin cÃ³ kháº£ nÄƒng nháº­n thá»©c ngá»¯ cáº£nh vÃ  má»¥c Ä‘Ã­ch cá»§a nÃ³.

2. **TÆ°Æ¡ng tÃ¡c Ä‘a chiá»u (Dimensional Interaction)**: Modal táº¡o ra cáº£m giÃ¡c chiá»u sÃ¢u thá»±c sá»±, vá»›i cÃ¡c lá»›p thÃ´ng tin tÆ°Æ¡ng tÃ¡c theo nhiá»u chiá»u khÃ´ng gian.

3. **Tráº£i nghiá»‡m liá»n máº¡ch (Seamless Experience)**: Chuyá»ƒn Ä‘á»•i giá»¯a khÃ´ng gian chÃ­nh vÃ  modal lÃ  má»™t tráº£i nghiá»‡m mÆ°á»£t mÃ , tá»± nhiÃªn, khÃ´ng gÃ¢y giÃ¡n Ä‘oáº¡n dÃ²ng tÆ°Æ¡ng tÃ¡c.

## Giáº£i pháº«u Quantum Modal

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Quantum Backdrop (Interactive Dimensional Field)â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Modal Container                         â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚    â”‚
â”‚  â”‚  â”‚  Header                          â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  (Focus Point + Navigation Zone) â”‚    â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚    â”‚
â”‚  â”‚                                          â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚    â”‚
â”‚  â”‚  â”‚  Content Area                    â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  (Information Field)             â”‚    â”‚    â”‚
â”‚  â”‚  â”‚                                  â”‚    â”‚    â”‚
â”‚  â”‚  â”‚                                  â”‚    â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚    â”‚
â”‚  â”‚                                          â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚    â”‚
â”‚  â”‚  â”‚  Footer                          â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  (Action Zone + Decision Point)  â”‚    â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1. Quantum Backdrop

Lá»›p phá»§ tÆ°Æ¡ng tÃ¡c táº¡o ra "trÆ°á»ng khÃ´ng gian" xung quanh modal:

- **Depth Blur**: Hiá»‡u á»©ng blur thá»ƒ hiá»‡n chiá»u sÃ¢u thá»±c sá»±, khÃ´ng chá»‰ lÃ  lÃ m má» Ä‘Æ¡n giáº£n
- **Interactive Particles**: CÃ¡c háº¡t Ã¡nh sÃ¡ng vi mÃ´ pháº£n á»©ng vá»›i chuyá»ƒn Ä‘á»™ng con trá»
- **Ambient Awareness**: Äá»™ tá»‘i/sÃ¡ng thay Ä‘á»•i theo ná»™i dung modal vÃ  má»¥c Ä‘Ã­ch
- **Focus Management**: Táº¡o ra hiá»‡u á»©ng "gravitational lensing" nháº¹, kÃ©o sá»± chÃº Ã½ vÃ o modal

### 2. Modal Container

Váº­t chá»©a chÃ­nh vá»›i váº­t liá»‡u lÆ°á»£ng tá»­:

- **Quantum Glass Material**: Sá»­ dá»¥ng váº­t liá»‡u kÃ­nh lÆ°á»£ng tá»­ vá»›i Ä‘áº·c tÃ­nh refraction vÃ  luminance
- **Dimensional Layering**: Táº¡o cáº£m giÃ¡c lá»›p thÃ´ng tin vá»›i hiá»‡u á»©ng parallax tinh táº¿
- **Responsive Boundaries**: ÄÆ°á»ng viá»n phÃ¡t sÃ¡ng tinh táº¿, pháº£n á»©ng vá»›i tÆ°Æ¡ng tÃ¡c
- **Adaptive Sizing**: Tá»± Ä‘iá»u chá»‰nh kÃ­ch thÆ°á»›c vÃ  vá»‹ trÃ­ tá»‘i Æ°u dá»±a trÃªn ná»™i dung vÃ  ngá»¯ cáº£nh

### 3. Functional Zones

Modal Ä‘Æ°á»£c chia thÃ nh cÃ¡c vÃ¹ng chá»©c nÄƒng rÃµ rÃ ng:

- **Header (Focus Point)**: Äiá»ƒm táº­p trung chÃ­nh, thÆ°á»ng chá»©a tiÃªu Ä‘á» vÃ  Ä‘iá»u khiá»ƒn Ä‘Ã³ng
- **Content Area (Information Field)**: Khu vá»±c ná»™i dung chÃ­nh vá»›i kháº£ nÄƒng cuá»™n dá»c
- **Footer (Action Zone)**: Khu vá»±c chá»©a cÃ¡c hÃ nh Ä‘á»™ng, quyáº¿t Ä‘á»‹nh

## CÃ¡c biáº¿n thá»ƒ

### 1. Quantum Dialog

Modal nhá» gá»n, táº­p trung vÃ o quyáº¿t Ä‘á»‹nh Ä‘Æ¡n giáº£n:

```html
<quantum-modal variant="dialog" importance="high">
  <div slot="header">XÃ¡c nháº­n hÃ nh Ä‘á»™ng</div>
  <div slot="content">
    <p>Báº¡n cÃ³ cháº¯c cháº¯n muá»‘n xÃ³a má»¥c nÃ y? HÃ nh Ä‘á»™ng nÃ y khÃ´ng thá»ƒ hoÃ n tÃ¡c.</p>
  </div>
  <div slot="footer">
    <quantum-button variant="secondary">Há»§y bá»</quantum-button>
    <quantum-button variant="primary" emphasis="high">XÃ¡c nháº­n</quantum-button>
  </div>
</quantum-modal>
```

### 2. Information Panel

Modal lá»›n hÆ¡n vá»›i nhiá»u thÃ´ng tin chi tiáº¿t:

```html
<quantum-modal 
  variant="panel" 
  size="large" 
  backdrop-effect="depth-blur"
  entry-animation="quantum-shift"
>
  <div slot="header">
    <h2>ThÃ´ng tin chi tiáº¿t sáº£n pháº©m</h2>
    <quantum-button variant="icon" icon="close"></quantum-button>
  </div>
  <div slot="content">
    <!-- Ná»™i dung thÃ´ng tin chi tiáº¿t -->
  </div>
  <div slot="footer">
    <quantum-button variant="secondary">ÄÃ³ng</quantum-button>
    <quantum-button variant="primary">ThÃªm vÃ o giá» hÃ ng</quantum-button>
  </div>
</quantum-modal>
```

### 3. Immersive Experience

Modal toÃ n mÃ n hÃ¬nh vá»›i tráº£i nghiá»‡m Ä‘áº¯m chÃ¬m:

```html
<quantum-modal 
  variant="immersive" 
  backdrop-interaction="high"
  content-scrolling="parallax"
>
  <div slot="header">
    <h1>KhÃ¡m phÃ¡ khÃ´ng gian má»›i</h1>
  </div>
  <div slot="content">
    <!-- Ná»™i dung phong phÃº vá»›i hÃ¬nh áº£nh, video -->
  </div>
  <div slot="footer">
    <quantum-button variant="ghost">Trá»Ÿ vá»</quantum-button>
    <quantum-button variant="primary" size="large">Tiáº¿p tá»¥c khÃ¡m phÃ¡</quantum-button>
  </div>
</quantum-modal>
```

### 4. Contextual Notification

Modal nhá» xuáº¥t hiá»‡n táº¡m thá»i Ä‘á»ƒ thÃ´ng bÃ¡o:

```html
<quantum-modal 
  variant="notification" 
  auto-dismiss="4000"
  position="top-right"
>
  <div slot="content">
    <quantum-icon name="check-circle"></quantum-icon>
    <p>Thao tÃ¡c Ä‘Ã£ hoÃ n táº¥t thÃ nh cÃ´ng!</p>
  </div>
</quantum-modal>
```

## API & Thuá»™c tÃ­nh

### Thuá»™c tÃ­nh cÆ¡ báº£n

| Thuá»™c tÃ­nh | Kiá»ƒu dá»¯ liá»‡u | Máº·c Ä‘á»‹nh | MÃ´ táº£ |
|------------|--------------|----------|-------|
| `variant` | string | `'standard'` | Kiá»ƒu modal: `standard`, `dialog`, `panel`, `immersive`, `notification` |
| `size` | string | `'medium'` | KÃ­ch thÆ°á»›c: `small`, `medium`, `large`, `auto` |
| `open` | boolean | `false` | Tráº¡ng thÃ¡i hiá»ƒn thá»‹ |
| `dismissible` | boolean | `true` | Cho phÃ©p Ä‘Ã³ng báº±ng backdrop hoáº·c ESC |
| `importance` | string | `'medium'` | Má»©c Ä‘á»™ quan trá»ng: `low`, `medium`, `high` |

### Thuá»™c tÃ­nh nÃ¢ng cao

| Thuá»™c tÃ­nh | Kiá»ƒu dá»¯ liá»‡u | Máº·c Ä‘á»‹nh | MÃ´ táº£ |
|------------|--------------|----------|-------|
| `backdrop-effect` | string | `'blur'` | Hiá»‡u á»©ng backdrop: `simple`, `blur`, `depth-blur` |
| `backdrop-interaction` | string | `'medium'` | Má»©c Ä‘á»™ tÆ°Æ¡ng tÃ¡c vá»›i backdrop: `none`, `low`, `medium`, `high` |
| `entry-animation` | string | `'standard'` | Kiá»ƒu animation khi xuáº¥t hiá»‡n: `standard`, `quantum-shift`, `emerge`, `materialize` |
| `z-index-level` | string | `'modal'` | Lá»›p z-index: `modal`, `notification`, `critical` |
| `content-scrolling` | string | `'standard'` | PhÆ°Æ¡ng thá»©c cuá»™n ná»™i dung: `standard`, `parallax`, `depth` |
| `auto-dismiss` | number | `0` | Thá»i gian tá»± Ä‘Ã³ng (ms), `0` lÃ  khÃ´ng tá»± Ä‘Ã³ng |
| `position` | string | `'center'` | Vá»‹ trÃ­: `center`, `top`, `right`, `bottom`, `left`, `top-right`, ... |

### Slots

- `header`: Pháº§n tiÃªu Ä‘á» modal
- `content`: Ná»™i dung chÃ­nh
- `footer`: Pháº§n chÃ¢n chá»©a cÃ¡c hÃ nh Ä‘á»™ng
- `close-button`: NÃºt Ä‘Ã³ng tÃ¹y chá»‰nh

### Sá»± kiá»‡n

- `quantum-modal-open`: PhÃ¡t ra khi modal má»Ÿ
- `quantum-modal-close`: PhÃ¡t ra khi modal Ä‘Ã³ng
- `quantum-modal-backdrop-click`: PhÃ¡t ra khi click vÃ o backdrop
- `quantum-modal-animation-complete`: PhÃ¡t ra khi animation hoÃ n thÃ nh

## Hiá»‡u á»©ng vÃ  Animations

### Entry Animations

1. **Standard**: Fade-in vá»›i scale tá»« 0.9 Ä‘áº¿n 1
2. **Quantum Shift**: Xuáº¥t hiá»‡n vá»›i hiá»‡u á»©ng "lÆ°á»£ng tá»­ hÃ³a" - tá»« má» Ä‘áº¿n rÃµ, khÃ´ng gian cong nháº¹
3. **Emerge**: Tá»« tá»« hiá»‡n ra tá»« Ä‘á»™ trong suá»‘t cao
4. **Materialize**: Hiá»‡u á»©ng váº­t liá»‡u hÃ³a tá»« cÃ¡c háº¡t Ã¡nh sÃ¡ng

### Interactive Effects

1. **Depth Response**: Ná»™i dung pháº£n á»©ng vá»›i cuá»™n trang, táº¡o cáº£m giÃ¡c chiá»u sÃ¢u
2. **Focus Illumination**: CÃ¡c pháº§n Ä‘Æ°á»£c hover hoáº·c focus phÃ¡t sÃ¡ng nháº¹
3. **Resonant Feedback**: Modal "rung" nháº¹ khi cÃ³ thao tÃ¡c quan trá»ng
4. **Contextual Coloring**: MÃ u sáº¯c vÃ  Ã¡nh sÃ¡ng pháº£n Ã¡nh ngá»¯ cáº£nh vÃ  cáº£m xÃºc

## Triá»ƒn khai Ká»¹ thuáº­t

### Web Component

```javascript
class QuantumModal extends HTMLElement {
  static get observedAttributes() {
    return [
      'variant', 'size', 'open', 'dismissible', 'importance',
      'backdrop-effect', 'backdrop-interaction', 'entry-animation',
      'z-index-level', 'content-scrolling', 'auto-dismiss', 'position'
    ];
  }
  
  constructor() {
    super();
    this.attachShadow({ mode: 'open' });
    this._renderModal();
    this._setupEventListeners();
  }
  
  connectedCallback() {
    if (this.hasAttribute('open')) {
      this._showModal();
    }
    
    // Thiáº¿t láº­p trap focus
    this._setupFocusTrap();
    
    // Thiáº¿t láº­p auto-dismiss náº¿u cÃ³
    const autoDismiss = parseInt(this.getAttribute('auto-dismiss') || '0', 10);
    if (autoDismiss > 0) {
      this._autoDismissTimeout = setTimeout(() => {
        this.close();
      }, autoDismiss);
    }
  }
  
  disconnectedCallback() {
    // Dá»n dáº¹p
    this._cleanup();
  }
  
  attributeChangedCallback(name, oldValue, newValue) {
    if (name === 'open') {
      if (newValue !== null) {
        this._showModal();
      } else {
        this._hideModal();
      }
    }
  }
  
  // Public API
  open() {
    if (!this.hasAttribute('open')) {
      this.setAttribute('open', '');
    }
  }
  
  close() {
    if (this.hasAttribute('open')) {
      this.removeAttribute('open');
    }
  }
  
  // Private methods
  _renderModal() {
    const variant = this.getAttribute('variant') || 'standard';
    const backdrop = this.getAttribute('backdrop-effect') || 'blur';
    
    this.shadowRoot.innerHTML = `
      <style>
        :host {
          --modal-z-index: var(--quantum-z-index-modal, 1000);
          --modal-backdrop-blur: var(--quantum-backdrop-blur, 10px);
          --modal-animation-duration: var(--quantum-duration-standard, 300ms);
          --modal-entry-curve: var(--quantum-curve-standard, cubic-bezier(0.2, 0.9, 0.3, 1.0));
          
          /* Variant-specific styling */
          --modal-width: ${this._getModalWidth()};
          --modal-max-height: ${variant === 'immersive' ? '100vh' : '90vh'};
          --modal-background: var(--quantum-surface-${variant}, rgba(255, 255, 255, 0.85));
          
          display: none;
          position: fixed;
          z-index: var(--modal-z-index);
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          align-items: center;
          justify-content: center;
        }
        
        :host([open]) {
          display: flex;
        }
        
        .quantum-backdrop {
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background-color: rgba(0, 0, 0, ${variant === 'notification' ? '0.1' : '0.4'});
          backdrop-filter: ${backdrop === 'blur' ? 'blur(var(--modal-backdrop-blur))' : 'none'};
          opacity: 0;
          transition: opacity var(--modal-animation-duration) var(--modal-entry-curve);
        }
        
        :host([open]) .quantum-backdrop {
          opacity: 1;
        }
        
        .quantum-container {
          position: relative;
          width: var(--modal-width);
          max-height: var(--modal-max-height);
          background: var(--modal-background);
          border-radius: var(--quantum-radius-${variant}, 12px);
          box-shadow: var(--quantum-shadow-elevation-${variant}, 0 20px 25px -5px rgba(0, 0, 0, 0.1));
          display: flex;
          flex-direction: column;
          overflow: hidden;
          transform: scale(0.95);
          opacity: 0;
          transition: transform var(--modal-animation-duration) var(--modal-entry-curve),
                      opacity var(--modal-animation-duration) var(--modal-entry-curve);
        }
        
        :host([open]) .quantum-container {
          transform: scale(1);
          opacity: 1;
        }
        
        .quantum-header {
          padding: 16px 24px;
          border-bottom: 1px solid rgba(0, 0, 0, 0.08);
          display: flex;
          justify-content: space-between;
          align-items: center;
        }
        
        .quantum-content {
          flex: 1;
          overflow-y: auto;
          padding: 24px;
        }
        
        .quantum-footer {
          padding: 16px 24px;
          border-top: 1px solid rgba(0, 0, 0, 0.08);
          display: flex;
          justify-content: flex-end;
          gap: 12px;
        }
        
        /* Animation variants */
        :host([entry-animation="quantum-shift"]) .quantum-container {
          transition-timing-function: cubic-bezier(0.2, 0.9, 0.3, 1.0);
        }
        
        :host([entry-animation="emerge"]) .quantum-container {
          transform: translateY(20px) scale(0.98);
          transition-timing-function: cubic-bezier(0.1, 0.7, 0.2, 1.0);
        }
        
        :host([entry-animation="materialize"]) .quantum-container {
          transform: scale(1.02);
          transition-timing-function: cubic-bezier(0.0, 0.8, 0.2, 1.2);
        }
        
        /* Position variants */
        :host([position="top"]) {
          align-items: flex-start;
        }
        
        :host([position="bottom"]) {
          align-items: flex-end;
        }
      </style>
      
      <div class="quantum-backdrop" part="backdrop"></div>
      <div class="quantum-container" part="container">
        <div class="quantum-header" part="header">
          <slot name="header"></slot>
        </div>
        <div class="quantum-content" part="content">
          <slot name="content"></slot>
        </div>
        <div class="quantum-footer" part="footer">
          <slot name="footer"></slot>
        </div>
      </div>
    `;
  }
  
  _getModalWidth() {
    const size = this.getAttribute('size') || 'medium';
    const variant = this.getAttribute('variant') || 'standard';
    
    if (variant === 'immersive') return '100vw';
    if (variant === 'notification') return 'auto';
    
    switch (size) {
      case 'small': return '400px';
      case 'large': return '800px';
      case 'auto': return 'auto';
      default: return '600px'; // medium
    }
  }
  
  _setupEventListeners() {
    // ÄÃ³ng khi click backdrop
    this.shadowRoot.querySelector('.quantum-backdrop').addEventListener('click', (e) => {
      if (this.getAttribute('dismissible') !== 'false') {
        this.close();
        this.dispatchEvent(new CustomEvent('quantum-modal-backdrop-click'));
      }
    });
    
    // NgÄƒn sá»± kiá»‡n propagation tá»« container
    this.shadowRoot.querySelector('.quantum-container').addEventListener('click', (e) => {
      e.stopPropagation();
    });
    
    // Xá»­ lÃ½ phÃ­m ESC
    this._handleKeyDown = (e) => {
      if (e.key === 'Escape' && this.hasAttribute('open') && this.getAttribute('dismissible') !== 'false') {
        this.close();
      }
    };
    document.addEventListener('keydown', this._handleKeyDown);
  }
  
  _setupFocusTrap() {
    // Triá»ƒn khai focus trap Ä‘á»ƒ accessibility
  }
  
  _showModal() {
    // ThÃªm class vÃ o body Ä‘á»ƒ ngÄƒn scroll
    document.body.style.overflow = 'hidden';
    
    // Dispatch event
    this.dispatchEvent(new CustomEvent('quantum-modal-open'));
    
    // Track animation end
    const container = this.shadowRoot.querySelector('.quantum-container');
    container.addEventListener('transitionend', () => {
      this.dispatchEvent(new CustomEvent('quantum-modal-animation-complete', { detail: { state: 'open' } }));
    }, { once: true });
  }
  
  _hideModal() {
    // KhÃ´i phá»¥c scroll
    document.body.style.overflow = '';
    
    // Dispatch event
    this.dispatchEvent(new CustomEvent('quantum-modal-close'));
    
    // Track animation end
    const container = this.shadowRoot.querySelector('.quantum-container');
    container.addEventListener('transitionend', () => {
      this.dispatchEvent(new CustomEvent('quantum-modal-animation-complete', { detail: { state: 'closed' } }));
    }, { once: true });
  }
  
  _cleanup() {
    document.removeEventListener('keydown', this._handleKeyDown);
    if (this._autoDismissTimeout) {
      clearTimeout(this._autoDismissTimeout);
    }
  }
}

customElements.define('quantum-modal', QuantumModal);
```

### React Component

```jsx
import React, { useState, useEffect, useRef } from 'react';
import { createPortal } from 'react-dom';
import './QuantumModal.css';

const QuantumModal = ({
  variant = 'standard',
  size = 'medium',
  open = false,
  dismissible = true,
  importance = 'medium',
  backdropEffect = 'blur',
  backdropInteraction = 'medium',
  entryAnimation = 'standard',
  zIndexLevel = 'modal',
  contentScrolling = 'standard',
  autoDismiss = 0,
  position = 'center',
  onOpen,
  onClose,
  onBackdropClick,
  children,
  header,
  footer
}) => {
  const [isOpen, setIsOpen] = useState(open);
  const modalRef = useRef(null);
  const backdropRef = useRef(null);
  
  // Sync with props
  useEffect(() => {
    setIsOpen(open);
  }, [open]);
  
  // Handle auto-dismiss
  useEffect(() => {
    let timer;
    if (isOpen && autoDismiss > 0) {
      timer = setTimeout(() => {
        setIsOpen(false);
        onClose && onClose();
      }, autoDismiss);
    }
    return () => timer && clearTimeout(timer);
  }, [isOpen, autoDismiss, onClose]);
  
  // Handle ESC key
  useEffect(() => {
    const handleKeyDown = (e) => {
      if (e.key === 'Escape' && isOpen && dismissible) {
        setIsOpen(false);
        onClose && onClose();
      }
    };
    
    document.addEventListener('keydown', handleKeyDown);
    return () => document.removeEventListener('keydown', handleKeyDown);
  }, [isOpen, dismissible, onClose]);
  
  // Control body scroll
  useEffect(() => {
    if (isOpen) {
      document.body.style.overflow = 'hidden';
      onOpen && onOpen();
    } else {
      document.body.style.overflow = '';
    }
    
    return () => {
      document.body.style.overflow = '';
    };
  }, [isOpen, onOpen]);
  
  // Handle backdrop click
  const handleBackdropClick = (e) => {
    if (backdropRef.current === e.target && dismissible) {
      setIsOpen(false);
      onClose && onClose();
      onBackdropClick && onBackdropClick();
    }
  };
  
  if (!isOpen) return null;
  
  const modalContent = (
    <div 
      className={`quantum-modal quantum-modal--${variant} quantum-modal--${size} quantum-modal--${position}`}
      data-importance={importance}
      data-entry-animation={entryAnimation}
      data-backdrop-effect={backdropEffect}
      data-backdrop-interaction={backdropInteraction}
      data-z-index-level={zIndexLevel}
      data-content-scrolling={contentScrolling}
    >
      <div 
        className="quantum-backdrop" 
        ref={backdropRef}
        onClick={handleBackdropClick}
      />
      <div className="quantum-container" ref={modalRef}>
        {header && (
          <div className="quantum-header">
            {header}
          </div>
        )}
        <div className={`quantum-content quantum-content--${contentScrolling}`}>
          {children}
        </div>
        {footer && (
          <div className="quantum-footer">
            {footer}
          </div>
        )}
      </div>
    </div>
  );
  
  return createPortal(modalContent, document.body);
};

export default QuantumModal;
```

## NguyÃªn táº¯c Sá»­ dá»¥ng

### Khi nÃ o sá»­ dá»¥ng

- Khi cáº§n táº­p trung sá»± chÃº Ã½ vÃ o má»™t nhiá»‡m vá»¥ cá»¥ thá»ƒ
- Khi cáº§n ngÆ°á»i dÃ¹ng Ä‘Æ°a ra quyáº¿t Ä‘á»‹nh
- Khi hiá»ƒn thá»‹ thÃ´ng tin chi tiáº¿t mÃ  khÃ´ng chuyá»ƒn hÆ°á»›ng
- Khi cáº§n xÃ¡c nháº­n hÃ nh Ä‘á»™ng quan trá»ng
- Khi muá»‘n táº¡o tráº£i nghiá»‡m Ä‘áº¯m chÃ¬m

### Khi nÃ o khÃ´ng sá»­ dá»¥ng

- Khi thÃ´ng tin cÃ³ thá»ƒ hiá»ƒn thá»‹ trá»±c tiáº¿p trong luá»“ng ná»™i dung
- Khi cÃ³ quÃ¡ nhiá»u thÃ´ng tin phá»©c táº¡p (sá»­ dá»¥ng trang riÃªng)
- Khi cáº§n ngÆ°á»i dÃ¹ng tham kháº£o nhiá»u ná»™i dung khÃ¡c cÃ¹ng lÃºc
- Khi chá»‰ cáº§n thÃ´ng bÃ¡o Ä‘Æ¡n giáº£n khÃ´ng cáº§n tÆ°Æ¡ng tÃ¡c (sá»­ dá»¥ng Toast)

### CÃ¡c máº«u UI phá»• biáº¿n

1. **XÃ¡c nháº­n HÃ nh Ä‘á»™ng**:
   - Sá»­ dá»¥ng `variant="dialog"` vá»›i `importance="high"`
   - NÃªn cÃ³ 2 nÃºt: hÃ nh Ä‘á»™ng vÃ  há»§y
   - NÃªn sá»­ dá»¥ng ngÃ´n ngá»¯ rÃµ rÃ ng, trá»±c tiáº¿p

2. **Chi tiáº¿t ThÃ´ng tin**:
   - Sá»­ dá»¥ng `variant="panel"` vá»›i `size="large"`
   - Tá»‘i Æ°u hÃ³a cho viá»‡c Ä‘á»c vÃ  khÃ¡m phÃ¡
   - CÃ¢n nháº¯c sá»­ dá»¥ng `content-scrolling="parallax"` Ä‘á»ƒ tÄƒng tráº£i nghiá»‡m

3. **Biá»ƒu máº«u Thu tháº­p**:
   - Sá»­ dá»¥ng `variant="standard"` vá»›i focus trap
   - Äáº£m báº£o validation vÃ  pháº£n há»“i rÃµ rÃ ng
   - NÃªn cÃ³ nÃºt lÆ°u vÃ  há»§y

4. **Ná»™i dung Äa phÆ°Æ¡ng tiá»‡n**:
   - Sá»­ dá»¥ng `variant="immersive"` cho tráº£i nghiá»‡m toÃ n mÃ n hÃ¬nh
   - Tá»‘i Æ°u hÃ³a Ä‘iá»u khiá»ƒn phÃ¡t/dá»«ng vÃ  thoÃ¡t
   - Sá»­ dá»¥ng `backdrop-effect="depth-blur"` Ä‘á»ƒ táº¡o chiá»u sÃ¢u

## Accessibility

- **Keyboard Navigation**: Äáº£m báº£o táº¥t cáº£ tÆ°Æ¡ng tÃ¡c cÃ³ thá»ƒ thá»±c hiá»‡n báº±ng bÃ n phÃ­m
- **Focus Management**: Giá»¯ focus trong modal khi má»Ÿ (focus trap)
- **ARIA Roles**: Sá»­ dá»¥ng Ä‘Ãºng `role="dialog"` vÃ  `aria-modal="true"`
- **Screen Reader Support**: Äáº£m báº£o ná»™i dung Ä‘Æ°á»£c Ä‘á»c chÃ­nh xÃ¡c
- **Reduced Motion**: TuÃ¢n thá»§ `prefers-reduced-motion` Ä‘á»ƒ giáº£m hiá»‡u á»©ng

## Hiá»‡u suáº¥t

- Sá»­ dá»¥ng lazy loading cho ná»™i dung lá»›n
- TrÃ¡nh lÃ m náº·ng DOM khi modal Ä‘Ã³ng
- Sá»­ dá»¥ng CSS transitions thay vÃ¬ JS animations khi cÃ³ thá»ƒ
- Tá»‘i Æ°u hÃ³a hiá»‡u á»©ng backdrop cho thiáº¿t bá»‹ di Ä‘á»™ng

## TÆ°Æ¡ng lai PhÃ¡t triá»ƒn

### Phase 1: Neural Response
- TÃ­ch há»£p phÃ¢n tÃ­ch cáº£m xÃºc tá»« tÆ°Æ¡ng tÃ¡c Ä‘á»ƒ Ä‘iá»u chá»‰nh UX
- ThÃªm kháº£ nÄƒng dá»± Ä‘oÃ¡n hÃ nh Ä‘á»™ng ngÆ°á»i dÃ¹ng

### Phase 2: Spatial Expansion
- Há»— trá»£ Ä‘áº§y Ä‘á»§ AR/VR vá»›i modal 3D thá»±c sá»±
- Chuyá»ƒn Ä‘á»•i giá»¯a cÃ¡c khÃ´ng gian thÃ´ng tin vá»›i hiá»‡u á»©ng khÃ´ng-thá»i gian

### Phase 3: Multi-sensory
- TÃ­ch há»£p pháº£n há»“i haptic cho tÆ°Æ¡ng tÃ¡c quan trá»ng
- ThÃªm soundscapes thÃ­ch á»©ng theo ná»™i dung

Quantum Modal khÃ´ng chá»‰ lÃ  má»™t cá»­a sá»• thÃ´ng tin mÃ  lÃ  má»™t cÃ¡nh cá»•ng Ä‘áº¿n má»™t khÃ´ng gian tÆ°Æ¡ng tÃ¡c má»›i, Ä‘á»‹nh nghÄ©a láº¡i khÃ¡i niá»‡m vá» modal trong thiáº¿t káº¿ UI cá»§a tÆ°Æ¡ng lai.